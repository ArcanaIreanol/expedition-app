<dom-module id="number-picker">
  <style>
    :host paper-icon-button {
      width: var(--vw-huge);
      height: var(--vw-huge);
    };

    .hidden {
      /* We want to explicitly hide the arrows without displacing anything, so display:none doesn't work here. */
      visibility: hidden;
    }
  </style>
  <template>
    <div class="input">
      <div class="value layout horizontal">
        <paper-icon-button id="dec" icon="icons:chevron-left" on-click="dec" class$="{{hideIfMin(value)}}"></paper-icon-button>
        <div id="label" class="label flex">{{ label }}: <span id="value">{{value}}</span></div>
        <paper-icon-button id="inc" icon="icons:chevron-right" on-click="inc" class$="{{hideIfMax(value)}}"></paper-icon-button>
      </div>
    </div>
    <div class="subtext" id="subtext"><content></content></div>
  </template>

  <script>
    Polymer({
      is: 'number-picker',
      inc: function() {
        this.value = Math.min(this.value+1, this.max);
        this.fire('update');
        this.$.inc.blur();
      },
      dec: function() {
        this.value = Math.max(this.value - 1, this.min);
        this.fire('update');
        this.$.dec.blur();
      },
      hideIfMin: function(val) {
        return (val == this.min) ? "hidden" : "";
      },
      hideIfMax: function(val) {
        return (val == this.max) ? "hidden" : "";
      },
      properties: {
        value: {
          type: Number,
          notify: true
        },
        max: {
          type: Number,
          notify: true,
          value: Infinity
        },
        min: {
          type: Number,
          notify: true,
          value: 0
        },
        label: String
      },
    });
  </script>

</dom-module>
